(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(27)},21:function(e,t,a){},22:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),u=a.n(o),c=(a(21),a(22),a(4)),l=a(15),d=a(6),i=a(8),s=a(1),m=a(2);var h,p=function(e,t,a){if(a===t)return Object(i.a)(e);for(var n=[],r=a>t?1:-1,o=!1,u=0;u<e.length;u+=1)u===a?(o=!o,n.push(e[t])):u===t?(o=!o,n.push(e[a])):o?n.push(e[u+r]):n.push(e[u]);return n},f="load_authors_click",v="display_author_items",b="handle_author_item_hovering",y="remove_author_item",I="place_author_item",O="handle_focus_on_author_item",E="handle_input_new_name",N={RENAMING:"renaming",MOVING:"moving"},g={ABOVE:"above",BELOW:"below"};var j=(h={},Object(s.a)(h,f,function(e){return Object(m.a)({},e,{loading:!0})}),Object(s.a)(h,v,function(e,t){var a=t.payload,n=[],r=a.reduce(function(e,t,a){return n.push(a.toString()),Object(m.a)({},e,Object(s.a)({},a,t))},{});return Object(m.a)({},e,{authorsById:r,authorsRenderList:n})}),Object(s.a)(h,b,function(e,t){var a=t.payload;return Object(m.a)({},e,{hoveredAuthorId:a})}),Object(s.a)(h,E,function(e,t){var a=t.payload;return""===a?e:Object(m.a)({},e,{authorsById:Object(m.a)({},e.authorsById,Object(s.a)({},e.focusedAuthorId,a))})}),Object(s.a)(h,I,function(e){var t=e.authorsRenderList,a=e.hoveredAuthorId,n=e.focusedAuthorId,r=t.indexOf(n),o=t.indexOf(a);return Object(m.a)({},e,{authorsRenderList:p(t,r,o),focusedAuthorId:null,hoveredAuthorId:e.hoveredAuthorId})}),Object(s.a)(h,O,function(e,t){var a=t.payload;return Object(m.a)({},e,{focusedAuthorId:a.authorId,focusedItemState:a.selectedState})}),Object(s.a)(h,y,function(e,t){var a=t.payload;return delete e.authorsById[a],Object(m.a)({},e,{authorsById:Object(m.a)({},e.authorsById),authorsRenderList:e.authorsRenderList.reduce(function(e,t){return t!==a?[].concat(Object(i.a)(e),[t]):e},[])})}),h),w={loading:!1,authorsRenderList:null,authorsById:null,focusedAuthorId:null,focusedItemState:null,hoveredAuthorId:null};function A(e){var t=e.children,a=e.loading,n=e.loadingAuthorsList;return r.a.createElement("div",{className:"list-wrapper"},t,!a&&r.a.createElement("button",{type:"button",disabled:a,className:"load-button",onClick:n},a?"Loading data...":"Load authors data"))}A.defaultProps={children:null,loading:null};var _=A;var k=function(e){var t=e.ownerId,a=e.onSelectState,n=e.onRemoveClick;return r.a.createElement("div",{className:"manipulator"},r.a.createElement("button",{type:"button",className:"manipulator-button rename",onClick:function(){return a(t,N.RENAMING)}},r.a.createElement("span",{className:"context-image",role:"img","aria-label":"Rename"},"\u270d")),r.a.createElement("button",{type:"button",className:"manipulator-button move",onClick:function(){return a(t,N.MOVING)}},r.a.createElement("span",{className:"context-image",role:"img","aria-label":"Move"},"\u2735")),r.a.createElement("button",{type:"button",className:"manipulator-button remove",onClick:function(){return n(t)}},r.a.createElement("span",{className:"context-image",role:"img","aria-label":"Remove"},"\ud83d\uddd1")))};var B=Object(c.b)(null,function(e,t){return{onRemoveClick:function(){return e((a=t.ownerId,{type:y,payload:a}));var a},onSelectState:function(t,a){return e({type:O,payload:{authorId:t,selectedState:a}})}}})(k),L=function(e){var t=e.id,a=e.authorName,n=e.hovered,o=e.focused,u=e.marker,c=e.onMouseEnter,l=e.onApplyNewName,d=e.unwrapped,i=e.displaceAuthorItem;return r.a.createElement("section",{className:"item-wrapper",onMouseEnter:n?null:c},(u===g.ABOVE||o)&&r.a.createElement("button",{type:"button",className:"marker".concat(n?" hovered":""),onClick:function(){return i(t)}},o?"\u25bc":"\u25b2"),r.a.createElement("label",{htmlFor:"author_".concat(t),className:"author-name"},a,r.a.createElement("input",{name:"author_".concat(t),className:d?"unwrapped":"wrapped",type:"text",defaultValue:a,onKeyPress:function(e){"Enter"===e.code&&l(e.target.value.trim())}})),(u===g.BELOW||o)&&r.a.createElement("button",{type:"button",className:"marker".concat(n?" hovered":""),onClick:function(){return i(t)}},o?"\u25b2":"\u25bc"),n&&!o&&r.a.createElement(B,{ownerId:t}))};L.defaultProps={unwrapped:!1};var R=L;var S=Object(c.b)(function(e,t){var a=t.id,n=e.hoveredAuthorId,r=e.focusedAuthorId,o=e.focusedItemState,u=a===r,c={authorName:e.authorsById[a],selected:u,hovered:!r&&a===n};return u&&(c.unwrapped=o===N.RENAMING),c},function(e,t){return{onApplyNewName:function(t){return e({type:E,payload:t})},onMouseEnter:function(){return e((a=t.id,{type:b,payload:a}));var a},displaceAuthorItem:function(){return e((t.id,{type:I}))}}})(R);var M=Object(c.b)(function(e){var t,a=e.authorsRenderList,n=e.loading,o=e.focusedItemState,u=e.focusedAuthorId,c=!1;return{children:a?a.map(function(e){return e===u&&(c=!0),t="",o===N.MOVING&&u!==e&&(t=!0===c?g.BELOW:g.ABOVE),r.a.createElement(S,{key:e,id:e,marker:t})}):null,loading:n}},function(e){return{loadingAuthorsList:function(){e({type:f});var t=new XMLHttpRequest;t.open("GET","http://my-json-server.typicode.com/mate-academy/literary-blog/authors"),t.responseType="json",t.addEventListener("load",function(){var a;4===t.readyState&&e((a=t.response,{type:v,payload:a}))}),t.send()}}})(_),C=Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;return j[t.type]?j[t.type](e,t):e},Object(d.a)(l.a));var x=function(){return r.a.createElement(c.a,{store:C},r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.6a5b3274.chunk.js.map