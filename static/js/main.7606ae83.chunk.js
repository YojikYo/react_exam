(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(45)},25:function(e,t,a){},26:function(e,t,a){},31:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),u=a.n(o),c=(a(25),a(26),a(5)),i=a(19),l=a(7),s=a(1),d=a(2),m=a(13);var p,h=function(e,t,a){if(a===t)return e;var n=Object(m.a)(e),r=n.splice(Math.min(t,a),Math.abs(t-a)+1,"marker"),o=a>t?r.shift():r.pop();return a>t?r.push(o):r.unshift(o),n.splice.apply(n,[Math.min(t,a),1].concat(Object(m.a)(r))),n},v="load_authors_click",f="display_author_items",b="handle_author_item_hovering",I="remove_author_item",y="place_author_item",A="handle_focus_on_author_item",O="update_input_value",E="handle_input_new_name",N="cancel_inputting",j={RENAMING:"renaming",MOVING:"moving"},g={ABOVE:"above",BELOW:"below"};var w=(p={},Object(s.a)(p,v,function(e){return Object(d.a)({},e,{loading:!0})}),Object(s.a)(p,f,function(e,t){var a=t.payload,n=[],r=a.reduce(function(e,t,a){return n.push(a.toString()),Object(d.a)({},e,Object(s.a)({},a,{authorName:t,inputValue:t}))},{});return Object(d.a)({},e,{authorsById:r,authorsRenderList:n})}),Object(s.a)(p,b,function(e,t){var a=t.payload;return Object(d.a)({},e,{hoveredAuthorId:a})}),Object(s.a)(p,O,function(e,t){var a=t.payload,n=e.authorsById,r=n[e.focusedAuthorId].authorName;return Object(d.a)({},e,{authorsById:Object(d.a)({},n,Object(s.a)({},e.focusedAuthorId,{authorName:r,inputValue:a}))})}),Object(s.a)(p,E,function(e,t){var a=t.payload;return""===a?e:Object(d.a)({},e,{authorsById:Object(d.a)({},e.authorsById,Object(s.a)({},e.focusedAuthorId,{authorName:a,inputValue:a})),focusedAuthorId:null})}),Object(s.a)(p,N,function(e){var t=e.authorsById,a=t[e.focusedAuthorId].authorName;return Object(d.a)({},e,{authorsById:Object(d.a)({},t,Object(s.a)({},e.focusedAuthorId,{authorName:a,inputValue:a})),focusedAuthorId:null,focusedItemState:null})}),Object(s.a)(p,y,function(e,t){var a=t.payload,n=e.authorsRenderList,r=e.focusedAuthorId,o=n.indexOf(r),u=n.indexOf(a);return Object(d.a)({},e,{authorsRenderList:h(n,o,u),focusedAuthorId:null,focusedItemState:null,hoveredAuthorId:e.hoveredAuthorId})}),Object(s.a)(p,A,function(e,t){var a=t.payload;return Object(d.a)({},e,{focusedAuthorId:a.authorId,focusedItemState:a.selectedState})}),Object(s.a)(p,I,function(e,t){var a=t.payload;return Object(d.a)({},e,{authorsById:Object(d.a)({},e.authorsById),authorsRenderList:e.authorsRenderList.filter(function(e){return e!==a})})}),p),k={loading:!1,authorsRenderList:null,authorsById:null,focusedAuthorId:null,focusedItemState:null,hoveredAuthorId:null};a(31);var _=a(8),L=a.n(_);a(43);var S=function(e){var t=e.ownerId,a=e.onSelectState,n=e.onRemoveClick;return r.a.createElement("div",{className:"manipulator"},r.a.createElement("button",{type:"button",className:"manipulator-button rename",onClick:function(){return a(t,j.RENAMING)}},r.a.createElement("span",{className:"context-image",role:"img","aria-label":"Rename"},"\u270d")),r.a.createElement("button",{type:"button",className:"manipulator-button move",onClick:function(){return a(t,j.MOVING)}},r.a.createElement("span",{className:"context-image",role:"img","aria-label":"Move"},"\u2735")),r.a.createElement("button",{type:"button",className:"manipulator-button remove",onClick:function(){return n(t)}},r.a.createElement("span",{className:"context-image",role:"img","aria-label":"Remove"},"\ud83d\uddd1")))};var B=Object(c.b)(null,function(e){return{onRemoveClick:function(t){return e({type:I,payload:t})},onSelectState:function(t,a){return e({type:A,payload:{authorId:t,selectedState:a}})}}})(S),R=(a(44),function(e){var t=e.id,a=e.authorName,n=e.inputValue,o=e.hovered,u=e.selected,c=e.focusedItemState,i=e.marker,l=e.onMouseEnter,s=e.onUpdateInputValue,d=e.onCancelInputting,m=e.onApplyNewName,p=e.unwrapped,h=e.displaceAuthorItem;return r.a.createElement(L.a,{transitionName:{appear:"item-appear",appearActive:"item-appearActive"},transitionAppear:!0,transitionEnter:!1,transitionLeave:!1,transitionAppearTimeout:700},r.a.createElement(L.a,{transitionName:{enter:"enter",enterActive:"enterActive",leave:"leave",leaveActive:"leaveActive"},transitionEnterTimeout:300,transitionLeaveTimeout:300},(i===g.ABOVE||u)&&c===j.MOVING&&r.a.createElement("button",{key:"".concat(t,"_upper-marker"),type:"button",className:"marker".concat(o?" marker-hover":""),onClick:h},u?"\u25bc":"\u25b2")),r.a.createElement("section",{className:"item-wrapper".concat(o?" hovered":""),onMouseEnter:l},r.a.createElement("label",{htmlFor:"author_".concat(t),className:"author-name"},a,r.a.createElement("input",{name:"author_".concat(t),className:p?"unwrapped":"wrapped",type:"text",value:n,disabled:!p,onKeyDown:function(e){switch(e.key){case"Enter":m(e.target.value.trim());break;case"Escape":d()}},onChange:function(e){return s(e.target.value)}})),r.a.createElement(L.a,{transitionName:{enter:"manipulator-enter",enterActive:"manipulator-enter-active",leave:"manipulator-leave",leaveActive:"manipulator-leave-active"},transitionEnterTimeout:150,transitionLeaveTimeout:200},o&&!u&&r.a.createElement(B,{key:"manipulator_".concat(t),ownerId:t}))),r.a.createElement(L.a,{transitionName:{enter:"enter",enterActive:"enterActive",leave:"leave",leaveActive:"leaveActive"},transitionEnterTimeout:300,transitionLeaveTimeout:300},(i===g.BELOW||u)&&c===j.MOVING&&r.a.createElement("button",{key:"".concat(t,"_lower-marker"),type:"button",className:"marker".concat(o?" marker-hover":""),onClick:h},u?"\u25b2":"\u25bc")))});R.defaultProps={unwrapped:!1,inputValue:"",focusedItemState:null};var V=R;var M=Object(c.b)(function(e,t){var a=t.id,n=e.hoveredAuthorId,r=e.focusedAuthorId,o=e.focusedItemState,u=e.authorsById[a],c=a===r,i={authorName:u.authorName,inputValue:u.inputValue,focusedItemState:o,selected:c,hovered:a===n};return c&&(i.unwrapped=o===j.RENAMING),i},function(e,t){return{onUpdateInputValue:function(t){return e({type:O,payload:t})},onApplyNewName:function(t){return e({type:E,payload:t})},onMouseEnter:function(){return e((a=t.id,{type:b,payload:a}));var a},displaceAuthorItem:function(){return e((a=t.id,{type:y,payload:a}));var a},onCancelInputting:function(){return e({type:N})}}})(V);function C(e){var t,a=e.loading,n=e.loadingAuthorsList,o=e.authorsRenderList,u=e.focusedAuthorId,c=e.focusedItemState,i=!1,l=o?o.map(function(e){return e===u&&(i=!0),t="",c===j.MOVING&&u!==e&&(t=!0===i?g.BELOW:g.ABOVE),r.a.createElement(M,{key:e,id:e,marker:t})}):null;return r.a.createElement("div",{className:"list-wrapper"},l,!a&&r.a.createElement("button",{type:"button",disabled:a,className:"load-button",onClick:n},a?"Loading data...":"Load authors data"))}C.defaultProps={loading:null,authorsRenderList:null,focusedAuthorId:null,focusedItemState:null};var G=C;var T=Object(c.b)(function(e){return{authorsRenderList:e.authorsRenderList,loading:e.loading,focusedItemState:e.focusedItemState,focusedAuthorId:e.focusedAuthorId}},function(e){return{loadingAuthorsList:function(){e({type:v});var t=new XMLHttpRequest;t.open("GET","https://my-json-server.typicode.com/mate-academy/literary-blog/authors"),t.responseType="json",t.addEventListener("load",function(){var a;4===t.readyState&&e((a=t.response,{type:f,payload:a}))}),t.send()}}})(G),x=Object(l.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return w[t.type]?w[t.type](e,t):e},Object(l.a)(i.a));var W=function(){return r.a.createElement(c.a,{store:x},r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.7606ae83.chunk.js.map